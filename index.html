<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaÅ¾eikiÅ³ Nafta â€“ SVF AnalizÄ— | Submerged Vector Framework</title>
    <meta name="description" content="Orlen Lietuva interesÅ³ vektoriÅ³ 3D vizualizacija. Submerged Vector Framework metodika emergentinio elgesio analizei.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a15 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 8px;
            color: #e94560;
        }
        .subtitle {
            text-align: center;
            color: #a0a0a0;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        .framework-badge {
            text-align: center;
            margin-bottom: 25px;
        }
        .framework-badge a {
            display: inline-block;
            background: rgba(79, 195, 247, 0.15);
            border: 1px solid rgba(79, 195, 247, 0.4);
            color: #4fc3f7;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            text-decoration: none;
            transition: all 0.3s;
        }
        .framework-badge a:hover {
            background: rgba(79, 195, 247, 0.3);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1.3fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        @media (max-width: 1100px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .canvas-container {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 15px;
            position: relative;
        }
        .canvas-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: #0f4c75;
            background: #e8f4fc;
            padding: 8px 14px;
            border-radius: 8px;
            display: inline-block;
        }
        .canvas-subtitle {
            color: #666;
            font-size: 0.85rem;
            margin-left: 10px;
        }
        #three-container {
            width: 100%;
            height: 500px;
            border-radius: 12px;
            overflow: hidden;
            cursor: grab;
        }
        #three-container:active {
            cursor: grabbing;
        }
        .pause-hint {
            text-align: center;
            font-size: 0.8rem;
            color: #666;
            margin-top: 10px;
        }

        .legend-panel {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 20px;
        }
        .legend-panel h3 {
            color: #e94560;
            margin-bottom: 15px;
            font-size: 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }
        .legend-item {
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(255,255,255,0.02);
            border-radius: 8px;
            border-left: 3px solid;
        }
        .legend-item .actor {
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }
        .legend-item .hidden {
            font-size: 0.8rem;
            color: #888;
        }
        .legend-item .behavior {
            font-size: 0.8rem;
            color: #4fc3f7;
            font-style: italic;
            margin-top: 3px;
        }

        .pestel-section {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .pestel-section h3 {
            color: #4fc3f7;
            margin-bottom: 15px;
        }
        .pestel-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
        }
        @media (max-width: 900px) {
            .pestel-grid { grid-template-columns: repeat(3, 1fr); }
        }
        @media (max-width: 500px) {
            .pestel-grid { grid-template-columns: repeat(2, 1fr); }
        }
        .pestel-item {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            border-top: 3px solid;
        }
        .pestel-item.p { border-color: #e94560; }
        .pestel-item.e { border-color: #4caf50; }
        .pestel-item.s { border-color: #ffc107; }
        .pestel-item.t { border-color: #2196f3; }
        .pestel-item.env { border-color: #9c27b0; }
        .pestel-item.l { border-color: #00bcd4; }
        .pestel-item h4 { font-size: 0.9rem; margin-bottom: 6px; }
        .pestel-item p { font-size: 0.75rem; color: #a0a0a0; line-height: 1.3; }

        .insight-box {
            background: linear-gradient(135deg, rgba(233,69,96,0.1), rgba(15,76,117,0.1));
            border: 1px solid rgba(233,69,96,0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .insight-box h3 { color: #e94560; margin-bottom: 12px; }
        .insight-box p { color: #c0c0c0; line-height: 1.6; font-size: 0.95rem; }
        .insight-box strong { color: #fff; }

        .key-concept {
            background: rgba(79, 195, 247, 0.08);
            border: 1px solid rgba(79, 195, 247, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .key-concept h3 { color: #4fc3f7; margin-bottom: 12px; }
        .key-concept p { color: #c0c0c0; line-height: 1.6; font-size: 0.95rem; }

        .layers-explanation {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        @media (max-width: 700px) {
            .layers-explanation { grid-template-columns: 1fr; }
        }
        .layer-box { padding: 15px; border-radius: 10px; }
        .layer-box.hidden-box {
            background: rgba(255,255,255,0.03);
            border: 1px dashed rgba(255,255,255,0.2);
        }
        .layer-box.visible-box {
            background: rgba(79,195,247,0.1);
            border: 1px solid rgba(79,195,247,0.3);
        }
        .layer-box h4 { margin-bottom: 8px; font-size: 0.95rem; }
        .layer-box.hidden-box h4 { color: #888; }
        .layer-box.visible-box h4 { color: #4fc3f7; }
        .layer-box p { font-size: 0.85rem; color: #a0a0a0; line-height: 1.5; }

        /* Legenda ant vizualizacijos */
        .viz-legend {
            position: absolute;
            top: 55px;
            left: 20px;
            background: rgba(10, 10, 21, 0.85);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 0.75rem;
            z-index: 10;
        }
        .viz-legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 5px;
            color: #a0a0a0;
        }
        .viz-legend-item:last-child {
            margin-bottom: 0;
        }
        .viz-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
        .viz-sum {
            margin-top: 6px;
            padding-top: 6px;
            border-top: 1px solid rgba(255,255,255,0.15);
            color: #4fc3f7;
            font-weight: bold;
        }
        .viz-axes {
            position: absolute;
            bottom: 50px;
            right: 20px;
            background: rgba(10, 10, 21, 0.85);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 0.7rem;
            color: #666;
            z-index: 10;
        }
        .viz-axes span {
            display: block;
            margin-bottom: 3px;
        }
        .viz-axes span:last-child {
            margin-bottom: 0;
        }

        /* What-If kontrolÄ— */
        .whatif-controls {
            position: absolute;
            top: 55px;
            right: 20px;
            z-index: 10;
        }
        .whatif-btn {
            background: rgba(233, 69, 96, 0.2);
            border: 1px solid #e94560;
            color: #e94560;
            padding: 8px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: bold;
            transition: all 0.3s;
        }
        .whatif-btn:hover {
            background: rgba(233, 69, 96, 0.4);
        }
        .whatif-btn.active {
            background: #4caf50;
            border-color: #4caf50;
            color: #fff;
        }
        .mode-indicator {
            position: absolute;
            top: 95px;
            right: 20px;
            font-size: 0.7rem;
            color: #666;
            max-width: 140px;
            text-align: right;
            z-index: 10;
        }
        .mode-indicator.transparent-mode {
            color: #4caf50;
        }

        /* Two-pass metodologija */
        .methodology-section {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(33, 150, 243, 0.1));
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin-top: 30px;
        }
        .methodology-section h3 {
            color: #4caf50;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        .pass-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        @media (max-width: 800px) {
            .pass-container { grid-template-columns: 1fr; }
        }
        .pass-box {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid;
        }
        .pass-box.pass1 { border-color: #ff9800; }
        .pass-box.pass2 { border-color: #4caf50; }
        .pass-box h4 {
            font-size: 1rem;
            margin-bottom: 12px;
        }
        .pass-box.pass1 h4 { color: #ff9800; }
        .pass-box.pass2 h4 { color: #4caf50; }
        .pass-box p { font-size: 0.85rem; color: #b0b0b0; line-height: 1.6; }
        .pass-box ul { margin: 10px 0 0 20px; font-size: 0.85rem; color: #a0a0a0; }
        .pass-box li { margin-bottom: 6px; }

        /* TransformacijÅ³ lentelÄ— */
        .transform-table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        .transform-table th {
            background: rgba(255,255,255,0.05);
            padding: 12px;
            text-align: left;
            color: #4fc3f7;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .transform-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            color: #a0a0a0;
        }
        .transform-table tr:hover td {
            background: rgba(255,255,255,0.02);
        }
        .arrow-cell {
            color: #4caf50;
            font-size: 1.2rem;
            text-align: center;
        }

        /* KodÄ—l iÅ¡lieka sekcija */
        .why-persists {
            background: rgba(255, 152, 0, 0.08);
            border: 1px solid rgba(255, 152, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .why-persists h3 { color: #ff9800; margin-bottom: 12px; }
        .why-persists p { color: #c0c0c0; line-height: 1.6; font-size: 0.95rem; }

        /* Taleb citatos */
        .quote-box {
            background: rgba(156, 39, 176, 0.08);
            border-left: 4px solid #9c27b0;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .quote-box blockquote {
            color: #d0d0d0;
            font-style: italic;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        .quote-box .attribution {
            color: #9c27b0;
            font-size: 0.8rem;
            text-align: right;
        }

        /* Teorinis pagrindas */
        .theory-section {
            background: rgba(33, 150, 243, 0.08);
            border: 1px solid rgba(33, 150, 243, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }
        .theory-section h3 { color: #2196f3; margin-bottom: 15px; }
        .theory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .theory-item {
            background: rgba(0,0,0,0.2);
            padding: 12px;
            border-radius: 8px;
        }
        .theory-item h5 {
            color: #4fc3f7;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        .theory-item p {
            color: #888;
            font-size: 0.75rem;
            line-height: 1.4;
        }

        /* Footer */
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            color: #555;
            font-size: 0.75rem;
        }
        .footer a {
            color: #4fc3f7;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>MaÅ¾eikiÅ³ Nafta (Orlen Lietuva)</h1>
        <p class="subtitle">PaslÄ—pti interesÅ³ vektoriai 3D erdvÄ—je Â· Matomas tik elgesys</p>
        <div class="framework-badge">
            <a href="https://github.com/HackrsValv/mn-vektoriai">ğŸ“ Submerged Vector Framework (SVF)</a>
        </div>

        <!-- Taleb citata Ä¯Å¾angai -->
        <div class="quote-box">
            <blockquote>
                "The ensemble behaves in ways not predicted by the components. The interactions matter more than the nature of the units."
            </blockquote>
            <div class="attribution">â€” Nassim Nicholas Taleb, "Parts vs Whole"</div>
        </div>

        <!-- PESTEL Section -->
        <div class="pestel-section">
            <h3>PESTEL aplinkos veiksniai â€“ iÅ¡orinÄ—s jÄ—gos, veikianÄios visus dalyvius</h3>
            <div class="pestel-grid">
                <div class="pestel-item p"><h4>Politiniai</h4><p>LT-PL santykiai, ES energetikos politika, Rusijos sankcijos</p></div>
                <div class="pestel-item e"><h4>Ekonominiai</h4><p>Naftos kainos, EUR/USD kursas, infliacija, palÅ«kanos</p></div>
                <div class="pestel-item s"><h4>Socialiniai</h4><p>Darbo jÄ—ga MaÅ¾eikiuose, emigracija, vietos bendruomenÄ—</p></div>
                <div class="pestel-item t"><h4>Technologiniai</h4><p>Perdirbimo modernizacija, Å¾alioji energetika, automatizacija</p></div>
                <div class="pestel-item env"><h4>Aplinkosauginiai</h4><p>COâ‚‚ mokesÄiai, tarÅ¡os leidimai, Å¾aliasis kursas</p></div>
                <div class="pestel-item l"><h4>Teisiniai</h4><p>ES direktyvos, LT Ä¯statymai, darbo kodeksas</p></div>
            </div>
        </div>

        <div class="main-grid">
            <!-- 3D Canvas -->
            <div class="canvas-container">
                <span class="canvas-title">3D erdvÄ—</span>
                <span class="canvas-subtitle">Tempk pele kad pasuktum</span>
                <div id="three-container"></div>
                <div class="viz-legend">
                    <div class="viz-legend-item"><span class="viz-dot" style="background:#e94560;"></span>Orlen</div>
                    <div class="viz-legend-item"><span class="viz-dot" style="background:#ffc107;"></span>LT valstybÄ—</div>
                    <div class="viz-legend-item"><span class="viz-dot" style="background:#4caf50;"></span>Darbuotojai</div>
                    <div class="viz-legend-item"><span class="viz-dot" style="background:#2196f3;"></span>VadovybÄ—</div>
                    <div class="viz-legend-item"><span class="viz-dot" style="background:#9c27b0;"></span>TiekÄ—jai</div>
                    <div class="viz-legend-item viz-sum"><span class="viz-dot" style="background:#4fc3f7;"></span>Î£ ELGESYS</div>
                </div>
                <div class="viz-axes">
                    <span>X: Pelnas â†’</span>
                    <span>Y: ValdÅ¾ia â†‘</span>
                    <span>Z: Augimas â†—</span>
                </div>
                <div class="whatif-controls">
                    <button class="whatif-btn" id="whatifBtn">ğŸ”“ WHAT IF?</button>
                </div>
                <div class="mode-indicator" id="modeIndicator">
                    Dabartinis: paslÄ—pti interesai
                </div>
                <p class="pause-hint">Punktyriniai = submerged (paslÄ—pti) Â· RyÅ¡kus = suma (stebimas elgesys)</p>
            </div>

            <!-- Legend -->
            <div class="legend-panel">
                <h3>Dalyviai: submerged â†’ surface</h3>

                <div class="legend-item" style="border-color: #e94560;">
                    <div class="actor" style="color:#e94560;">PKN Orlen (savininkas)</div>
                    <div class="hidden">ğŸ”’ Submerged: MaksimalÅ«s dividendai, Lenkijos strateginiai interesai</div>
                    <div class="behavior">ğŸ‘ Surface: â€Optimizuojame veiklÄ… ir investicijÅ³ portfelÄ¯"</div>
                </div>

                <div class="legend-item" style="border-color: #ffc107;">
                    <div class="actor" style="color:#ffc107;">Lietuvos valstybÄ—</div>
                    <div class="hidden">ğŸ”’ Submerged: Politiniai taÅ¡kai, rinkÄ—jai MaÅ¾eikiuose, energetinÄ— nepriklausomybÄ—</div>
                    <div class="behavior">ğŸ‘ Surface: â€Giname nacionalinius interesus"</div>
                </div>

                <div class="legend-item" style="border-color: #4caf50;">
                    <div class="actor" style="color:#4caf50;">Darbuotojai (~1200)</div>
                    <div class="hidden">ğŸ”’ Submerged: Bijau netekti darbo, turiu paskolÄ…, vaikai mokykloje</div>
                    <div class="behavior">ğŸ‘ Surface: â€Reikalaujame sÄ…Å¾iningo atlygio ir saugiÅ³ sÄ…lygÅ³"</div>
                </div>

                <div class="legend-item" style="border-color: #2196f3;">
                    <div class="actor" style="color:#2196f3;">VadovybÄ—</div>
                    <div class="hidden">ğŸ”’ Submerged: Metinis bonusas uÅ¾ KPI, karjera Orlen grupÄ—je</div>
                    <div class="behavior">ğŸ‘ Surface: â€Vykdome akcininkÅ³ patvirtintÄ… strategijÄ…"</div>
                </div>

                <div class="legend-item" style="border-color: #9c27b0;">
                    <div class="actor" style="color:#9c27b0;">Naftos tiekÄ—jai</div>
                    <div class="hidden">ğŸ”’ Submerged: Kuo ilgesni kontraktai, priklausomybÄ—s sukÅ«rimas</div>
                    <div class="behavior">ğŸ‘ Surface: â€SiÅ«lome konkurencingas kainas ir patikimÄ… tiekimÄ…"</div>
                </div>

                <div class="legend-item" style="border-color: #4fc3f7; background: rgba(79,195,247,0.1);">
                    <div class="actor" style="color:#4fc3f7;">ğŸ‘ Î£ ELGESYS (suma)</div>
                    <div class="hidden" style="color:#a0a0a0;">Tai, kÄ… stebime. Vektorius (prieÅ¾astis) â€“ tik spÄ—jame.</div>
                </div>
            </div>
        </div>

        <!-- Layers explanation -->
        <div class="layers-explanation">
            <div class="layer-box hidden-box">
                <h4>ğŸ”’ Submerged Layer (nematomas)</h4>
                <p>
                    Tikrosios motyvacijos egzistuoja tik dalyviÅ³ galvose. Mes jÅ³ <strong>nematome tiesiogiai</strong> â€“
                    galime tik spÄ—ti iÅ¡ elgesio (indukcija) arba iÅ¡ teorijÅ³ (dedukcija).
                    <br><br>
                    Dar blogiau: net patys dalyviai daÅ¾nai <strong>nesuvokia savo tikrÅ³ motyvÅ³</strong> (saviapgaulÄ—)
                    arba juos <strong>racionalizuoja</strong> (â€darau dÄ—l Ä¯monÄ—s", kai iÅ¡ tiesÅ³ â€“ dÄ—l bonuso).
                </p>
            </div>
            <div class="layer-box visible-box">
                <h4>ğŸ‘ Surface Layer (stebimas)</h4>
                <p>
                    Matome tik <strong>elgesÄ¯</strong>: sprendimus, veiksmus, vieÅ¡us pasisakymus.
                    <br><br>
                    IÅ¡ Å¡io elgesio <strong>bandome atkurti</strong> paslÄ—ptus vektorius. Bet skirtingi stebÄ—tojai
                    daro skirtingas iÅ¡vadas â†’ skirtingos reakcijos â†’ eskalacija â†’ dar didesnis neapibrÄ—Å¾tumas.
                </p>
            </div>
        </div>

        <!-- Taleb citata apie opacity -->
        <div class="quote-box">
            <blockquote>
                "In an opaque system, operators have an incentive to hide risk, taking upside without downside."
            </blockquote>
            <div class="attribution">â€” Nassim Nicholas Taleb, "Skin in the Game" (2018)</div>
        </div>

        <div class="key-concept">
            <h3>ğŸ¯ PagrindinÄ— SVF Ä¯Å¾valga</h3>
            <p>
                <strong>VektoriÅ³ suma</strong> (Î£ ELGESYS) rodo kryptÄ¯, kurios <strong>niekas individualiai nesiekÄ—</strong>.
                Kiekvienas dalyvis elgiasi racionaliai <strong>savo pozicijoje</strong> (Olson, 1965).
                Bet kadangi jie mato sistemÄ… tik <strong>per savo prizmÄ™</strong> (von Foerster),
                o tarp jÅ³ interesÅ³ egzistuoja <strong>nuolatinÄ— Ä¯tampa</strong>, galutinis rezultatas yra
                <strong>emergentinis</strong> â€“ neplanuotas ir daÅ¾nai nepageidaujamas.
            </p>
        </div>

        <div class="insight-box">
            <h3>ğŸ’¡ Praktinis pavyzdys</h3>
            <p>
                <strong>Stebime:</strong> Orlen Lietuva sumaÅ¾ino investicijas Ä¯ modernizacijÄ….
                <br><br>
                <strong>Galimi submerged motyvai:</strong><br>
                â€¢ Orlen: â€Perkeliame kapitalÄ… Ä¯ LenkijÄ…" Â· VadovybÄ—: â€Mano bonusas priklauso nuo EBITDA"<br>
                â€¢ Oficialus elgesys (surface): â€Optimizuojame pagal rinkos sÄ…lygas"
                <br><br>
                <strong>Problema:</strong> Lietuva spÄ—ja â€nori uÅ¾daryti" â†’ Orlen gal tik maksimizuoja short-term â†’
                Skirtingi spÄ—jimai â†’ eskalacija.
            </p>
        </div>

        <!-- KodÄ—l problema iÅ¡lieka -->
        <div class="why-persists">
            <h3>âš ï¸ KodÄ—l Å¡i problema iÅ¡lieka, nors â€visi Å¾ino"?</h3>
            <p>
                <strong>Paradoksas:</strong> Visi dalyviai supranta, kad paslÄ—pti interesai sukuria neefektyvumÄ….
                B2B pardavÄ—jai ruoÅ¡iasi metÅ³ galo biudÅ¾etÅ³ â€Å¡lavimui". Analitikai spÄ—ja tikrus motyvus.
                <strong>Bet sistema nesikeiÄia.</strong>
                <br><br>
                <strong>PrieÅ¾astis (kibernetika):</strong> Jei esi sistemos <em>dalis</em>, matai jÄ… <em>ribotai</em> â€“
                tik per savo pozicijÄ…. Kiekvienas dalyvis optimizuoja <strong>savo vietÄ…</strong> â€“ ir jam tai
                <strong>racionalu</strong>. VisumÄ… aiÅ¡kiau mato tik stebÄ—tojas â€iÅ¡ Å¡alies", bet tokio beveik nÄ—ra.
                <br><br>
                <strong>Olson'o kolektyvinio veiksmo dilema:</strong> Net jei bendras rezultatas blogas,
                kiekvienas individualus veiksmas yra optimalus. Pakeisti sistemÄ… reikÅ¡tÅ³ <strong>pralaimÄ—ti
                individualiai</strong> â€“ to niekas nenori.
            </p>
        </div>

        <!-- Two-Pass metodologija -->
        <div class="methodology-section">
            <h3>ğŸ¯ SPRENDIMAS: SVF Two-Pass metodas</h3>
            <div class="pass-container">
                <div class="pass-box pass1">
                    <h4>PASS 1: Legitimization â†’ Skaidrumas</h4>
                    <p>IÅ¡transliuoti submerged sluoksnÄ¯ Ä¯ surface. Ne â€demaskuoti", o sukurti aplinkÄ…,
                    kur <strong>tikri interesai yra legitimÅ«s</strong>.</p>
                    <ul>
                        <li>Orlen: â€Norime maksimalaus ROI" â†’ OK, tai normalu</li>
                        <li>VadovybÄ—: â€Norime bonusÅ³" â†’ OK, incentive alignment</li>
                        <li>Darbuotojai: â€Norime stabilumo" â†’ OK, Å¾mogiÅ¡ka</li>
                        <li>LT: â€Norime politiniÅ³ taÅ¡kÅ³" â†’ OK, demokratija</li>
                    </ul>
                </div>
                <div class="pass-box pass2">
                    <h4>PASS 2: Transformation â†’ Win-Win</h4>
                    <p>Surasti mechanizmus, kur <strong>vienos grupÄ—s interesai patenkinami per kitos
                    grupÄ—s interesus</strong>. Ne kompromisas, o dizainas.</p>
                    <ul>
                        <li>Orlen ROI â†” LT darbo vietos: profit-sharing modelis</li>
                        <li>VadovybÄ—s bonusai â†” DarbuotojÅ³ stabilumas: ilgalaikiai KPI</li>
                        <li>TiekÄ—jÅ³ kontraktai â†” Orlen lankstumas: indexed pricing</li>
                    </ul>
                </div>
            </div>

            <h4 style="color: #4fc3f7; margin-top: 25px; margin-bottom: 15px;">TransformacijÅ³ matrica</h4>
            <table class="transform-table">
                <thead>
                    <tr>
                        <th>GrupÄ— A (duoda)</th>
                        <th></th>
                        <th>GrupÄ— B (gauna)</th>
                        <th>Mechanizmas</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="color:#e94560;">Orlen: kapitalas</td>
                        <td class="arrow-cell">â†’</td>
                        <td style="color:#ffc107;">LT: darbo vietos</td>
                        <td>InvesticijÅ³ subsidijos su employment clause</td>
                    </tr>
                    <tr>
                        <td style="color:#ffc107;">LT: reguliacinÄ— erdvÄ—</td>
                        <td class="arrow-cell">â†’</td>
                        <td style="color:#e94560;">Orlen: operacinis lankstumas</td>
                        <td>Regulatory sandbox uÅ¾ modernizacijÄ…</td>
                    </tr>
                    <tr>
                        <td style="color:#4caf50;">Darbuotojai: lojalumas</td>
                        <td class="arrow-cell">â†’</td>
                        <td style="color:#2196f3;">VadovybÄ—: stabilumas</td>
                        <td>Employee ownership + retention bonuses</td>
                    </tr>
                    <tr>
                        <td style="color:#2196f3;">VadovybÄ—: ilgalaikÄ— vizija</td>
                        <td class="arrow-cell">â†’</td>
                        <td style="color:#4caf50;">Darbuotojai: karjera</td>
                        <td>Internal mobility + skills investment</td>
                    </tr>
                    <tr>
                        <td style="color:#9c27b0;">TiekÄ—jai: kainÅ³ lankstumas</td>
                        <td class="arrow-cell">â†’</td>
                        <td style="color:#e94560;">Orlen: supply security</td>
                        <td>Long-term indexed contracts</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Taleb Skin in the Game -->
        <div class="quote-box">
            <blockquote>
                "You must eat your own cooking. Systems with skin in the game are self-correcting through elimination of bad actors."
            </blockquote>
            <div class="attribution">â€” Nassim Nicholas Taleb, "Skin in the Game" (2018)</div>
        </div>

        <div class="key-concept" style="margin-top: 30px; background: rgba(76, 175, 80, 0.1); border-color: rgba(76, 175, 80, 0.4);">
            <h3 style="color: #4caf50;">âœ… Rezultatas: Alignment per dizainÄ…</h3>
            <p>
                Kai submerged interesai tampa surface ir legitimiais, <strong>derybos tampa galimos</strong>.
                Kai derybos vyksta ties tikrais interesais (ne pozicijomis), <strong>win-win dizainas tampa Ä¯manomas</strong>.
                <br><br>
                <strong>Vizualizacijoje:</strong> paspausk â€WHAT IF?" mygtukÄ…, kad pamatytum, kaip keiÄiasi
                vektoriai, kai interesai tampa skaidrÅ«s. Vektoriai <strong>suartÄ—ja</strong>, nes dalyviai
                pradeda ieÅ¡koti bendrÅ³ taÅ¡kÅ³, o ne slÄ—pti savo tikslus.
            </p>
        </div>

        <!-- Teorinis pagrindas -->
        <div class="theory-section">
            <h3>ğŸ“š Teorinis pagrindas (SVF Å¡altiniai)</h3>
            <div class="theory-grid">
                <div class="theory-item">
                    <h5>Taleb, N.N. (2018)</h5>
                    <p>Skin in the Game: Hidden Asymmetries in Daily Life. PaslÄ—ptos asimetrijos, rizikos pasidalijimas.</p>
                </div>
                <div class="theory-item">
                    <h5>Olson, M. (1965)</h5>
                    <p>Logic of Collective Action. Individualiai optimalu â‰  kolektyviai optimalu.</p>
                </div>
                <div class="theory-item">
                    <h5>von Foerster, H.</h5>
                    <p>Second-order Cybernetics. StebÄ—tojas yra sistemos dalis; ribota perspektyva.</p>
                </div>
                <div class="theory-item">
                    <h5>Ashby, W.R.</h5>
                    <p>Law of Requisite Variety. SudÄ—tingumui valdyti reikia atitinkamo sudÄ—tingumo.</p>
                </div>
                <div class="theory-item">
                    <h5>MAEBE (2025)</h5>
                    <p>Multi-Agent Emergent Behavior. Ensemble moralinis samprotavimas nenuspÄ—jamas iÅ¡ atskirÅ³ agentÅ³.</p>
                </div>
                <div class="theory-item">
                    <h5>Emergent Alignment (2025)</h5>
                    <p>Convex hull of utilities. Kai user utility yra agentÅ³ convex hull viduje â†’ galimas alignment.</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>
                <strong>Submerged Vector Framework (SVF)</strong> Â· Agent-agnostic metodika emergentinio elgesio analizei
                <br>
                <a href="https://github.com/HackrsValv/mn-vektoriai">GitHub</a> Â· 
                Sukurta 2025
            </p>
        </div>
    </div>

    <script>
        // Three.js scena
        const container = document.getElementById('three-container');
        const width = container.clientWidth;
        const height = container.clientHeight;

        // Scena, kamera, rendereris
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x0a0a15);

        const camera = new THREE.PerspectiveCamera(50, width / height, 0.1, 1000);
        camera.position.set(6, 4, 6); // Ä®striÅ¾ai, kad matytÅ³si 3D
        camera.lookAt(0, 0, 0);

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(width, height);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);

        // Kubo wireframe
        const cubeGeometry = new THREE.BoxGeometry(4, 4, 4);
        const cubeMaterial = new THREE.LineBasicMaterial({ color: 0x333355, transparent: true, opacity: 0.4 });
        const cubeEdges = new THREE.EdgesGeometry(cubeGeometry);
        const cubeWireframe = new THREE.LineSegments(cubeEdges, cubeMaterial);
        scene.add(cubeWireframe);

        // PlokÅ¡tuma (gridas) kad bÅ«tÅ³ aiÅ¡kiau erdvÄ—
        const gridHelper = new THREE.GridHelper(6, 12, 0x333355, 0x222233);
        scene.add(gridHelper);

        // Centro taÅ¡kas
        const centerGeometry = new THREE.SphereGeometry(0.08, 16, 16);
        const centerMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });
        const centerSphere = new THREE.Mesh(centerGeometry, centerMaterial);
        scene.add(centerSphere);

        // Funkcija sukurti 3D vektoriÅ³ su strÄ—le
        function createVector(start, end, color, isDashed = false) {
            const group = new THREE.Group();

            const direction = new THREE.Vector3().subVectors(end, start);
            const length = direction.length();
            direction.normalize();

            // Linija
            const lineMaterial = isDashed
                ? new THREE.LineDashedMaterial({ color: color, dashSize: 0.15, gapSize: 0.1, transparent: true, opacity: 0.5 })
                : new THREE.LineBasicMaterial({ color: color, linewidth: 2 });

            const lineGeometry = new THREE.BufferGeometry().setFromPoints([start, end]);
            const line = new THREE.Line(lineGeometry, lineMaterial);
            if (isDashed) line.computeLineDistances();
            group.add(line);

            // StrÄ—lÄ—s antgalis (kÅ«gis)
            const coneLength = 0.25;
            const coneRadius = 0.08;
            const coneGeometry = new THREE.ConeGeometry(coneRadius, coneLength, 8);
            const coneMaterial = new THREE.MeshBasicMaterial({
                color: color,
                transparent: isDashed,
                opacity: isDashed ? 0.5 : 1
            });
            const cone = new THREE.Mesh(coneGeometry, coneMaterial);

            // Pozicionuojam kÅ«gÄ¯ strÄ—lÄ—s gale
            cone.position.copy(end);

            // Orientuojam kÅ«gÄ¯ pagal vektoriaus kryptÄ¯
            const quaternion = new THREE.Quaternion();
            quaternion.setFromUnitVectors(new THREE.Vector3(0, 1, 0), direction);
            cone.setRotationFromQuaternion(quaternion);

            group.add(cone);

            // Jei matomas (ne punktyrinis), pridÄ—ti Å¡vytÄ—jimÄ…
            if (!isDashed) {
                const glowGeometry = new THREE.SphereGeometry(0.15, 8, 8);
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: color,
                    transparent: true,
                    opacity: 0.3
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                glow.position.copy(end);
                group.add(glow);
            }

            return group;
        }

        // Vektoriai 3D erdvÄ—je (X, Y, Z)
        // X = pelnas, Y = valdÅ¾ia/galia, Z = augimas/ekspansija
        const vectors = [
            // Orlen: stipriai pelnas, valdÅ¾ia, augimas
            { end: new THREE.Vector3(1.8, 1.0, 1.2), color: 0xe94560, name: 'Orlen' },
            // LT valstybÄ—: prieÅ¡ingai - saugumas, maÅ¾iau valdÅ¾ios
            { end: new THREE.Vector3(-1.4, 0.3, -1.0), color: 0xffc107, name: 'LT' },
            // Darbuotojai: stabilumas, Å¾emyn (ne valdÅ¾ia)
            { end: new THREE.Vector3(-0.8, -1.2, 0.2), color: 0x4caf50, name: 'Darbuotojai' },
            // VadovybÄ—: panaÅ¡iai kaip Orlen, bet maÅ¾iau
            { end: new THREE.Vector3(1.2, 1.4, 0.3), color: 0x2196f3, name: 'VadovybÄ—' },
            // TiekÄ—jai: pelnas, bet Å¾emyn
            { end: new THREE.Vector3(0.8, -0.6, 1.0), color: 0x9c27b0, name: 'TiekÄ—jai' },
        ];

        // Suma - ELGESYS yra tikra vektoriÅ³ suma
        const sumVector = new THREE.Vector3(0, 0, 0);
        vectors.forEach(v => sumVector.add(v.end));
        // Suma: (1.8-1.4-0.8+1.2+0.8, 1.0+0.3-1.2+1.4-0.6, 1.2-1.0+0.2+0.3+1.0) = (1.6, 0.9, 1.7)

        const origin = new THREE.Vector3(0, 0, 0);

        // Visi vektoriai eina IÅ  CENTRO - kiekvienas traukia Ä¯ savo pusÄ™
        // Saugom objektus kad galÄ—tume paÅ¡alinti What-If reÅ¾ime
        let initialVectorObjects = [];
        let initialSumObject = null;

        vectors.forEach(v => {
            const vecObj = createVector(origin, v.end, v.color, true);
            scene.add(vecObj);
            initialVectorObjects.push(vecObj);
        });

        // ELGESYS vektorius (suma) - rezultatas visÅ³ traukimÅ³
        initialSumObject = createVector(origin, sumVector, 0x4fc3f7, false);
        scene.add(initialSumObject);

        // PelÄ—s valdymas
        let isDragging = false;
        let previousMousePosition = { x: 0, y: 0 };
        let rotationSpeed = { x: 0, y: 0 };
        let autoRotate = false;

        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            autoRotate = false;
            previousMousePosition = { x: e.clientX, y: e.clientY };
        });

        container.addEventListener('mousemove', (e) => {
            if (!isDragging) return;

            const deltaX = e.clientX - previousMousePosition.x;
            const deltaY = e.clientY - previousMousePosition.y;

            rotationSpeed.x = deltaY * 0.005;
            rotationSpeed.y = deltaX * 0.005;

            previousMousePosition = { x: e.clientX, y: e.clientY };
        });

        container.addEventListener('mouseup', () => {
            isDragging = false;
        });

        container.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        // Touch events
        container.addEventListener('touchstart', (e) => {
            isDragging = true;
            autoRotate = false;
            previousMousePosition = { x: e.touches[0].clientX, y: e.touches[0].clientY };
        });

        container.addEventListener('touchmove', (e) => {
            if (!isDragging) return;

            const deltaX = e.touches[0].clientX - previousMousePosition.x;
            const deltaY = e.touches[0].clientY - previousMousePosition.y;

            rotationSpeed.x = deltaY * 0.005;
            rotationSpeed.y = deltaX * 0.005;

            previousMousePosition = { x: e.touches[0].clientX, y: e.touches[0].clientY };
        });

        container.addEventListener('touchend', () => {
            isDragging = false;
        });

        // Animacija
        let time = 0;
        function animate() {
            requestAnimationFrame(animate);

            time += 0.01;

            if (autoRotate) {
                scene.rotation.y += 0.003;
            } else {
                scene.rotation.x += rotationSpeed.x;
                scene.rotation.y += rotationSpeed.y;

                // LÄ—tinimas
                rotationSpeed.x *= 0.95;
                rotationSpeed.y *= 0.95;
            }

            renderer.render(scene, camera);
        }
        animate();

        // Resize
        window.addEventListener('resize', () => {
            const newWidth = container.clientWidth;
            const newHeight = container.clientHeight;
            camera.aspect = newWidth / newHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(newWidth, newHeight);
        });

        // ============================================
        // WHAT-IF: Aligned interests reÅ¾imas
        // ============================================

        // Vektoriai skaidrumo reÅ¾ime - suartÄ—ja link bendro taÅ¡ko
        const transparentVectors = [
            // Kai interesai vieÅ¡i, dalyviai ieÅ¡ko kompromisÅ³
            { end: new THREE.Vector3(0.8, 0.4, 0.6), color: 0xe94560, name: 'Orlen' },       // maÅ¾iau agresyvus
            { end: new THREE.Vector3(-0.4, 0.5, 0.2), color: 0xffc107, name: 'LT' },         // maÅ¾iau gynybinis
            { end: new THREE.Vector3(0.1, 0.2, 0.4), color: 0x4caf50, name: 'Darbuotojai' }, // daugiau growth
            { end: new THREE.Vector3(0.5, 0.3, 0.5), color: 0x2196f3, name: 'VadovybÄ—' },    // balansuotas
            { end: new THREE.Vector3(0.3, 0.1, 0.4), color: 0x9c27b0, name: 'TiekÄ—jai' },    // kooperatyvus
        ];

        let isTransparentMode = false;
        let vectorObjects = [];
        let sumVectorObject = null;

        // Saugom pradinius vektorius
        const originalVectors = vectors.map(v => ({ ...v, end: v.end.clone() }));

        // Funkcija perkurti vektorius
        function rebuildVectors(useTransparent) {
            // PaÅ¡alinam senus vektorius - ir pradinius, ir what-if
            initialVectorObjects.forEach(obj => scene.remove(obj));
            if (initialSumObject) scene.remove(initialSumObject);
            vectorObjects.forEach(obj => scene.remove(obj));
            if (sumVectorObject) scene.remove(sumVectorObject);

            vectorObjects = [];
            initialVectorObjects = [];

            const currentVectors = useTransparent ? transparentVectors : originalVectors;
            const newSum = new THREE.Vector3(0, 0, 0);

            currentVectors.forEach(v => {
                // Aligned reÅ¾ime - solidÅ«s (ne punktyriniai), nes visi mato
                const vecObj = createVector(origin, v.end, v.color, !useTransparent);
                scene.add(vecObj);
                vectorObjects.push(vecObj);
                newSum.add(v.end);
            });

            // Suma
            sumVectorObject = createVector(origin, newSum, 0x4fc3f7, false);
            scene.add(sumVectorObject);
        }

        // What-If mygtukas
        const whatifBtn = document.getElementById('whatifBtn');
        const modeIndicator = document.getElementById('modeIndicator');

        whatifBtn.addEventListener('click', () => {
            isTransparentMode = !isTransparentMode;

            if (isTransparentMode) {
                whatifBtn.classList.add('active');
                whatifBtn.textContent = 'ğŸ”’ GRÄ®Å½TI';
                modeIndicator.textContent = 'ALIGNED: vektoriai suartÄ—ja!';
                modeIndicator.classList.add('transparent-mode');
            } else {
                whatifBtn.classList.remove('active');
                whatifBtn.textContent = 'ğŸ”“ WHAT IF?';
                modeIndicator.textContent = 'Dabartinis: submerged interesai';
                modeIndicator.classList.remove('transparent-mode');
            }

            rebuildVectors(isTransparentMode);
        });

    </script>
</body>
</html>
